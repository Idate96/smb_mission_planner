<?xml version="1.0"?>
<launch>

  <arg name="enable_viewer"           default="true"/>
  <arg name="description_for_moveit"  default="robot_description"/>
  <arg name="mock_modules"            default="false"/>

  <param name="/moveit_planner/description_name" value="$(arg description_for_moveit)"/>

  <group if="$(arg mock_modules)">
    <param name="/moveit_planner/fake_execution"   value="true"/>
    <include file="$(find smb_mission_planner)/launch/piloting_demo/piloting_mock_modules.launch"/>
  </group>


  <!--    State dependent parameters-->
  <rosparam command="load" file="$(find smb_mission_planner)/configs/piloting_demo/mission_config.yaml"/>
  <node pkg="smb_mission_planner" type="piloting_demo.py"  name="piloting_demo" output="screen"/>

  <group if="$(arg enable_viewer)">
    <node pkg="smach_viewer" type="smach_viewer.py" name="smach_viewer_node" output="screen" />
  </group>

</launch>